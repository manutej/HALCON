#!/bin/bash
# HALCON Houses Command - Calculate House Cusps
# Now uses the new TypeScript implementation with Swiss Ephemeris

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
PROJECT_DIR="$SCRIPT_DIR/.."

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m'

# Show usage if no args
if [ $# -eq 0 ]; then
    echo -e "${CYAN}╔════════════════════════════════════════════╗${NC}"
    echo -e "${CYAN}║         HALCON HOUSE CUSPS                 ║${NC}"
    echo -e "${CYAN}╚════════════════════════════════════════════╝${NC}"
    echo ""
    echo "Calculate house cusps and angles"
    echo ""
    echo -e "${GREEN}Profile Usage:${NC}"
    echo "  houses <profile_name> [options]"
    echo ""
    echo "Examples:"
    echo "  houses manu"
    echo "  houses manu --compare"
    echo "  houses manu --house-system whole-sign"
    echo ""
    echo -e "${GREEN}Direct Usage:${NC}"
    echo "  houses <date> <time> --latitude LAT --longitude LON [options]"
    echo ""
    echo "Options:"
    echo "  --list-systems      List all available house systems"
    echo "  --compare           Compare multiple house systems"
    echo "  --house-system SYS  House system (placidus, koch, equal, whole-sign)"
    echo "  --json              Output as JSON"
    echo ""
    echo "Direct Examples:"
    echo "  houses 1990-03-10 12:55:00 --latitude 15.83 --longitude 78.04"
    echo "  houses now --latitude 40.7128 --longitude -74.0060 --compare"
    echo ""
    exit 0
fi

# Call new TypeScript implementation
cd "$PROJECT_DIR"
exec npm run houses -- "$@"
