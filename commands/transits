#!/bin/bash
# HALCON Transits Command - Current Planetary Positions
# Usage: transits [profile] [--date YYYY-MM-DD]

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
PROJECT_DIR="$SCRIPT_DIR/.."

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

# Show usage if --help
if [ "$1" = "--help" ] || [ "$1" = "-h" ]; then
    echo -e "${CYAN}╔════════════════════════════════════════════╗${NC}"
    echo -e "${CYAN}║        HALCON PLANETARY TRANSITS           ║${NC}"
    echo -e "${CYAN}╚════════════════════════════════════════════╝${NC}"
    echo ""
    echo "Show current planetary positions (transits)"
    echo ""
    echo -e "${GREEN}Profile Usage:${NC}"
    echo "  transits <profile_name>"
    echo ""
    echo "Examples:"
    echo "  transits manu"
    echo "  transits manu --date 2025-12-25"
    echo ""
    echo -e "${GREEN}Direct Usage:${NC}"
    echo "  transits --latitude LAT --longitude LON [options]"
    echo ""
    echo "Options:"
    echo "  --date DATE         Date for transits (YYYY-MM-DD, default: today)"
    echo "  --latitude LAT      Latitude in degrees"
    echo "  --longitude LON     Longitude in degrees"
    echo "  --location NAME     Location name"
    echo "  --json              Output as JSON"
    echo ""
    exit 0
fi

# Forward to TypeScript implementation
cd "$PROJECT_DIR"
exec npm run transits -- "$@"